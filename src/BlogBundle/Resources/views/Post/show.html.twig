{% extends 'base.html.twig' %}

{% block body %}
    <div class="row">
        <h5><a href="{{ path('post_index') }}">Back to the posts list</a></h5>
        <h1>Post</h1>

        <div class="col-sm-12 blog-main">

            <div class="blog-post">
                <h2 class="blog-post-title">{{ post.title }}</h2>

                <p>{{ post.content }}</p>
                {% if post.file %}
                    {{ asset(post.file) }}
                {% endif %}
            </div>
        </div>

        <div>
            <a class="btn btn-primary pull-left" href="{{ path('post_edit', { 'id': post.id }) }}">Edit</a>
            {{ form_start(delete_form) }}
            <input class="btn btn-danger" type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </div>

        <div class="col-sm-8 blog-main">
            <h2>Comments</h2>
            <div id="comments">
                {% for comment in comments %}
                    <div class="col-6 col-lg-4">
                        <h3>{{ comment.author }}</h3>
                        <p>{{ comment.content }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="col-sm-6 blog-main">
            <form id="comment_form" novalidate>
                <div id="error"></div>
                <div class="form-group">
                    <label for="author">Author</label>
                    <input type="text" class="form-control" id="author" placeholder="Jon Smith">
                </div>

                <div class="form-group">
                    <label for="comment">Comment</label>
                    <textarea class="form-control" id="comment" rows="3"></textarea>
                </div>

                <button type="button" onclick="addComment('{{ (path('post_comment_new')) }}', {{ post.id }});" class="btn btn-success">
                    Add comment!
                </button>
            </form>
        </div>

    </div>
{% endblock %}
{% block javascripts %}
    <script src="{{ asset('js/index.js') }}"></script>
{% endblock %}